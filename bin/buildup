#!/usr/bin/env node
'use strict'
/*
 * CLI for buildup
 */


/*
 * Module dependencies
 */
const app = require('../app');
const com = require('commander');
let taskrun;
/**
 * Setup
 */
com
  .version(require('../package').version)
  .usage('<task> [options...]')
  .action(function (task, options) {
     taskrun = task;
  })
  .option('-v, --verbose', 'Verbose logging')
  .command('init', 'Create a new buildupfile.js')
  .parse(process.argv);

if (typeof taskrun === 'undefined') {
  taskrun = 'default'
}
if (taskrun !== 'init' && taskrun !== 'help') {
  var ser = new app.Server('./servertest', { quite: false })
  ser.runTask(taskrun)
}
